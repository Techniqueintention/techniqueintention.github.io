/* ===== Responsive mobile/tablette (couche additive) ===== */

/* 1) Sécurité globale */
html, body { max-width: 100%; overflow-x: hidden; }

/* 2) Médias toujours fluides */
img, video, canvas, svg, iframe { max-width: 100%; height: auto; }

/* 3) Header/menu : garder ton menu, le faire respirer et s’adapter */
@media (max-width: 1024px) {
  .site-header {
    padding: .6rem 1rem;           /* header plus compact */
    gap: .6rem;
  }
  .site-title a {
    font-size: 1.1rem;             /* titre un peu réduit */
  }

  /* La barre principale se met sur plusieurs lignes si besoin */
  .menu-primary {
    flex-wrap: wrap;               /* << clé responsive */
    gap: .5rem .8rem;
  }
  .menu-primary a {
    padding: .5rem .7rem;          /* meilleures zones de tap */
    border-radius: 8px;
  }
}

/* 4) Très petits écrans : basculer la nav en colonne si ça coince */
@media (max-width: 640px) {
  .menu-primary { 
    width: 100%;
    justify-content: flex-start;
  }
  /* si tu préfères une colonne pure, décommente :
  .menu-primary { flex-direction: column; align-items: stretch; }
  .menu-primary a { text-align: left; }
  */
}

/* 5) Footer : toujours en bas, sans remonter (complémente ton layout) */
@media (max-width: 1024px) {
  footer { padding: .9rem 1rem; font-size: .92rem; }
}

/* 6) Grilles/colonnes génériques → empilement simple */
@media (max-width: 980px) {
  .grid-2, .two-col,
  .grid-3, .three-col,
  .grid-4, .four-col {
    display: grid; gap: 1rem; grid-template-columns: 1fr;
  }
}

/* 7) Blog viewer : ton CSS gère déjà l’empilement à 980px — on complète juste les espacements */
@media (max-width: 980px) {
  .viewer-layout { margin: calc(var(--header-h) + 12px) 0 20px 0; }
  #article-viewer { padding: 1.1rem; }
}

/* 8) Accueil : carte plus souple en mobile */
@media (max-width: 768px) {
  .welcome { margin: 1rem; padding: 1.2rem 1.4rem; }
  .welcome h1 { font-size: 1.7rem; }
  .welcome-text { font-size: 1rem; line-height: 1.65; }
}

/* 9) Ancrage lisible avec header sticky */
:target { scroll-margin-top: 72px; }

/* 10) Préférence utilisateur (réduction mouvement) */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}
